<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>セミナー予約 | Creator Suite</title>
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Chart.js（互換のため） -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- App CSS -->
  <link rel="stylesheet" href="css/style.css">
  <style>
    .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
    .calendar-day { background: var(--surface); border-radius: 12px; padding: 12px; min-height: 88px; box-shadow: var(--shadow); position: relative; cursor: pointer; transition: transform .2s ease; }
    .calendar-day:hover { transform: translateY(-2px); }
    .calendar-day .date-num { font-weight: 600; font-size: 14px; color: var(--text-secondary); }
    .calendar-day .badge { position: absolute; bottom: 10px; right: 10px; font-size: 10px; padding: 4px 6px; border-radius: 8px; }
    .calendar-day.today { outline: 2px solid rgba(123,104,238,.25); }
    .calendar-day.muted { opacity: .45; }
    .weekday-header { font-size: 12px; color: var(--text-secondary); text-align: center; margin-bottom: 6px; }
    .filter-chip { border: 1px solid rgba(0,0,0,0.08); padding: 6px 10px; border-radius: 999px; background: var(--surface); cursor: pointer; user-select: none; }
    .filter-chip.active { border-color: var(--primary); color: var(--primary); font-weight: 600;}
    .seminar-card { border: 1px solid rgba(0,0,0,0.06); border-radius: 12px; padding: 14px; display: flex; gap: 12px; align-items: start; }
    .seminar-card + .seminar-card { margin-top: 10px; }
    .seminar-thumb { width: 64px; height: 64px; border-radius: 12px; flex-shrink: 0; background: rgba(123,104,238,0.1); display:flex; align-items:center; justify-content:center; color:var(--primary); font-weight:700; }
    .tag { font-size: 11px; padding: 3px 8px; border-radius: 999px; background: rgba(90,200,250,.15); color: var(--primary); }
    .time-chip { font-size: 11px; padding: 3px 8px; border-radius: 999px; background: rgba(123,104,238,.12); color: var(--primary); }
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.35); display:none; align-items: center; justify-content: center; z-index: 9999; }
    .modal-sheet { width: min(720px, 92vw); background: var(--surface); border-radius: 16px; padding: 18px; box-shadow: 0 20px 40px rgba(0,0,0,.25); }
    .close-x { cursor: pointer; }
    .empty-hint { color: var(--text-secondary); font-size: 14px; }
    .time-line { display:flex; align-items:center; gap:8px; font-weight:600; }
    .time-line i { color: var(--primary); }
    .time-sub { font-size:12px; color: var(--text-secondary); margin-top: 4px; }
    .keyword-pill { border: 1px dashed rgba(0,0,0,0.12); padding: 6px 10px; border-radius: 999px; background: rgba(0,0,0,0.02); cursor: pointer; user-select: none; font-size:12px; }
    .keyword-pill:hover { border-style: solid; }
  </style>
</head>
<body>
  <!-- サイドバー -->
  <nav class="sidebar">
    <div class="logo-container">
      <div class="logo-icon">AI</div>
      <div class="logo">Creator Agency</div>
    </div>
    <div class="nav-menu">
      <a href="student-dashboard.html" class="nav-item">
        <i class="material-icons-round">dashboard</i><span>受講生ダッシュボード</span>
      </a>
      <a href="seminar-booking.html" class="nav-item active">
        <i class="material-icons-round">event</i><span>セミナー予約</span>
      </a>
      <a href="student-courses.html" class="nav-item">
        <i class="material-icons-round">video_library</i><span>マイコース</span>
      </a>
      <a href="student-tests.html" class="nav-item">
        <i class="material-icons-round">assignment</i><span>テスト・課題</span>
      </a>
      <a href="student-payments.html" class="nav-item">
        <i class="material-icons-round">receipt_long</i><span>支払い履歴</span>
      </a>
      <div class="nav-section-title">アカウント</div>
      <a href="settings.html" class="nav-item">
        <i class="material-icons-round">settings</i><span>設定</span>
      </a>
    </div>
  </nav>

  <!-- メイン -->
  <main class="main-content" id="seminarBookingRoot">
    <div class="header">
      <h1 class="page-title">セミナー予約</h1>
      <div class="d-flex gap-2">
        <button class="btn btn-outline-secondary btn-sm" id="btnToday">今日</button>
        <div class="btn-group">
          <button class="btn btn-outline-secondary btn-sm" id="btnPrev"><i class="material-icons-round" style="font-size:16px;">chevron_left</i></button>
          <button class="btn btn-outline-secondary btn-sm" id="btnNext"><i class="material-icons-round" style="font-size:16px;">chevron_right</i></button>
        </div>
      </div>
    </div>

    <!-- 上段：カレンダーとフィルタ -->
    <div class="dashboard-grid">
      <div class="card">
        <div class="card-header">
          <div class="card-title"><span id="monthLabel">2025年 11月</span> のスケジュール</div>
          <div class="card-action">
            <select id="viewMode" style="border:none;color:var(--primary);font-weight:600;background:transparent;cursor:pointer;">
              <option value="month" selected>月間</option>
              <option value="week">週間</option>
            </select>
          </div>
        </div>
        <div class="row g-2">
          <div class="col-12 d-flex justify-content-between">
            <div class="weekday-header">日</div><div class="weekday-header">月</div><div class="weekday-header">火</div>
            <div class="weekday-header">水</div><div class="weekday-header">木</div><div class="weekday-header">金</div><div class="weekday-header">土</div>
          </div>
        </div>
        <div id="calendarGrid" class="calendar-grid" style="margin-top:6px;"></div>
      </div>

      <div class="card">
        <div class="card-header"><div class="card-title">フィルタ</div></div>
        <div class="d-flex flex-column gap-2">
          <input type="text" id="searchSeminar" class="form-control form-input" placeholder="キーワード（タイトル/講師）" style="max-width:100%;">

          <!-- ▼ キーワード事例 -->
          <div id="keywordExamples" class="d-flex flex-wrap gap-2">
            <span class="keyword-pill" data-keyword="SNS">SNS</span>
            <span class="keyword-pill" data-keyword="桜井美帆">桜井美帆</span>
            <span class="keyword-pill" data-keyword="セールス">セールス</span>
            <span class="keyword-pill" data-keyword="ライブ配信">ライブ配信</span>
            <span class="keyword-pill" data-keyword="AI">AI</span>
          </div>

          <div class="d-flex gap-2 mt-1 flex-wrap">
            <span class="filter-chip active" data-cat="all">すべて</span>
            <span class="filter-chip" data-cat="marketing">マーケ</span>
            <span class="filter-chip" data-cat="mind">メンタル</span>
            <span class="filter-chip" data-cat="sales">セールス</span>
            <span class="filter-chip" data-cat="tech">テック</span>
          </div>
          <div class="form-check mt-1">
            <input class="form-check-input" type="checkbox" id="onlyAvailable">
            <label class="form-check-label" for="onlyAvailable">空きがあるもののみ</label>
          </div>
        </div>
      </div>
    </div>

    <!-- 下段：該当日のセミナー一覧 -->
    <div class="card" style="margin-top: 8px;">
      <div class="card-header">
        <div class="card-title"><span id="listDateLabel">選択した日</span> のセミナー</div>
        <a href="#" class="card-action" id="btnShowAll">今月の全件</a>
      </div>
      <div id="seminarList"></div>
      <div id="emptyState" class="empty-hint" style="display:none;">該当するセミナーがありません。</div>
    </div>
  </main>

  <!-- 予約モーダル -->
  <div class="modal-overlay" id="bookingModal">
    <div class="modal-sheet">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div class="card-title" id="modalTitle">セミナー詳細</div>
        <i class="material-icons-round close-x" id="modalClose">close</i>
      </div>
      <div class="row g-3">
        <div class="col-md-8">
          <div class="seminar-card">
            <div class="seminar-thumb" id="modalThumb">SE</div>
            <div style="flex:1;">
              <div id="modalName" style="font-weight:700;font-size:16px;">タイトル</div>
              <div class="text-muted" id="modalTeacher" style="font-size:13px;">講師：</div>
              <div class="time-line mt-2">
                <i class="material-icons-round">schedule</i>
                <span id="modalTimeLinePrimary">21:00–22:00（UTC+4）｜所要 60分</span>
              </div>
              <div class="time-sub" id="modalTimeLineLocal">あなたの端末時間：21:00–22:00</div>
              <div class="mt-2"><span id="modalDateTime" class="tag"></span></div>
              <div class="mt-2" id="modalDesc" style="font-size:13px;color:var(--text-secondary);">説明文</div>
              <div class="mt-2" id="modalSeats" style="font-size:13px;"></div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <label class="form-label">リマインド</label>
          <div class="form-check mb-1">
            <input class="form-check-input" type="checkbox" id="rm3d">
            <label class="form-check-label" for="rm3d">3日前</label>
          </div>
          <div class="form-check mb-1">
            <input class="form-check-input" type="checkbox" id="rm1d">
            <label class="form-check-label" for="rm1d">1日前</label>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="rm1h">
            <label class="form-check-label" for="rm1h">1時間前</label>
          </div>
          <button class="btn btn-primary w-100 mb-2" id="btnReserve">予約する</button>
          <button class="btn btn-outline-secondary w-100" id="btnCancelReserve" style="display:none;">予約をキャンセル</button>

          <div class="mt-3">
            <label class="form-label">カレンダーに追加</label>
            <div class="d-grid gap-2">
              <button class="btn btn-outline-primary" id="btnAddGoogle">
                <i class="material-icons-round" style="font-size:18px;vertical-align:middle;">event</i> Googleカレンダー
              </button>
              <button class="btn btn-outline-secondary" id="btnAddICS">
                <i class="material-icons-round" style="font-size:18px;vertical-align:middle;">calendar_month</i> Apple / Outlook (.ics)
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- App JS -->
  <script src="js/script.js"></script>
</body>
</html>
