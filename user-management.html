<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>A-002 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</title>
<style>
:root{--b:#e5e7eb;--t:#111827;--m:#6b7280;--bg:#fafafa;--card:#fff;--accent:#111827}
*{box-sizing:border-box}
body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Sans","Noto Sans JP",sans-serif;background:var(--bg);color:var(--t);margin:0}
/* Header + Logo */
.app-header{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid var(--b)}
.app-header .inner{max-width:1200px;margin:0 auto;padding:12px 24px;display:flex;align-items:center}
.logo-container{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-icon{width:32px;height:32px;border-radius:8px;background:var(--accent);color:#fff;display:grid;place-items:center;font-weight:800;font-size:.95rem;letter-spacing:.5px}
.logo{font-weight:800;color:var(--t);font-size:1rem}
/* Layout */
.layout{display:grid;grid-template-columns:260px 1fr;gap:20px;max-width:1200px;margin:0 auto;padding:24px}
@media (max-width:960px){.layout{grid-template-columns:1fr}}
.sidenav{background:var(--card);border:1px solid var(--b);border-radius:12px;padding:16px;position:sticky;top:16px;height:max-content}
.sidenav a{display:flex;gap:8px;text-decoration:none;color:var(--t);padding:10px 12px;border-radius:10px;margin:2px 0}
.sidenav a:hover{background:#f3f4f6}.sidenav a.active{background:var(--accent);color:#fff}
.container{max-width:900px;margin:0 auto}
.card{background:var(--card);border:1px solid var(--b);border-radius:12px;padding:18px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.muted{color:var(--m)}
.input{border:1px solid var(--b);border-radius:10px;padding:10px 12px;background:#fff}
.select{border:1px solid var(--b);border-radius:10px;padding:10px 12px;background:#fff}
.btn{display:inline-flex;gap:8px;align-items:center;background:var(--accent);color:#fff;border:0;border-radius:999px;padding:10px 16px;font-weight:600;cursor:pointer;text-decoration:none}
.btn.ghost{background:#374151}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:10px 12px;border-bottom:1px solid var(--b);text-align:left}
.badge{display:inline-block;border-radius:999px;padding:2px 10px;font-weight:700;font-size:.82rem}
.badge.role{background:#eef2ff;color:#1e40af}
.badge.ok{background:#ecfdf5;color:#065f46}
.badge.stop{background:#fef2f2;color:#991b1b}
.actions{display:flex;gap:8px;flex-wrap:wrap}
hr.sep{border:none;border-top:1px solid var(--b);margin:14px 0}
</style>
</head>
<body>
<header class="app-header">
  <div class="inner">
    <a href="/" class="logo-container" aria-label="AI Creator Agency ãƒ›ãƒ¼ãƒ ">
      <div class="logo-icon">AI</div><div class="logo">Creator Agency</div>
    </a>
  </div>
</header>

<div class="layout">
  <aside class="sidenav">
    <h3>ç®¡ç†ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
    <a href="/admin">ğŸ“Š ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
    <a href="/admin/users" class="active">ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</a>
    <a href="/admin/payments">ğŸ’³ æ”¯æ‰•ã„ç®¡ç†</a>
    <a href="/admin/settings">âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</a>
    <a href="/admin/logs">ğŸ“ˆ ãƒ­ã‚°ãƒ»çµ±è¨ˆ</a>
  </aside>

  <main class="container">
    <h1 style="margin:0 0 6px;font-size:1.4rem;">A-002 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</h1>
    <p class="muted" style="margin:0 0 14px;">è¬›å¸«ãƒ»å—è¬›ç”Ÿã®ä¸€è¦§ã€æ¤œç´¢ã€æ¨©é™ã¨çŠ¶æ…‹ã®åˆ‡æ›¿ã‚’è¡Œãˆã¾ã™ã€‚</p>

    <section class="card">
      <div class="row" style="justify-content:space-between;margin-bottom:12px;">
        <div class="row">
          <input id="q" class="input" placeholder="åå‰/ãƒ¡ãƒ¼ãƒ«ã§æ¤œç´¢">
          <select id="role" class="select">
            <option value="">ã™ã¹ã¦ã®ãƒ­ãƒ¼ãƒ«</option>
            <option value="teacher">è¬›å¸«</option>
            <option value="student">å—è¬›ç”Ÿ</option>
            <option value="admin">ç®¡ç†è€…</option>
          </select>
          <select id="status" class="select">
            <option value="">çŠ¶æ…‹: ã™ã¹ã¦</option>
            <option value="active">æœ‰åŠ¹</option>
            <option value="suspended">åœæ­¢</option>
          </select>
          <button class="btn" id="search">æ¤œç´¢</button>
        </div>
        <div class="row">
          <button class="btn ghost" id="invite">ï¼‹ æ‹›å¾…ãƒªãƒ³ã‚¯ç™ºè¡Œ</button>
        </div>
      </div>
      <hr class="sep">
      <div style="overflow:auto">
        <table class="table" id="tbl">
          <thead>
            <tr>
              <th>ãƒ¦ãƒ¼ã‚¶ãƒ¼</th><th>ãƒ¡ãƒ¼ãƒ«</th><th>ãƒ­ãƒ¼ãƒ«</th><th>çŠ¶æ…‹</th><th>ç™»éŒ²æ—¥</th><th style="width:220px">æ“ä½œ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>
</div>

<script>
const USERS = [
  {id:1,name:"æ¡œäº• ç¾å¸†",email:"miho@example.com",role:"admin",status:"active",joined:"2025-05-01"},
  {id:2,name:"ä¸­æ‘ ã²ã‚ã¿",email:"hiromi@example.com",role:"teacher",status:"active",joined:"2025-06-12"},
  {id:3,name:"æ¸¡é‚Š ç¾è²´",email:"miki@example.com",role:"teacher",status:"suspended",joined:"2025-06-20"},
  {id:4,name:"ä¼Šä¸¹ çœç´€å­",email:"makiko@example.com",role:"student",status:"active",joined:"2025-07-03"},
  {id:5,name:"ç”°ä¸­ èŠ±å­",email:"hanako@example.com",role:"student",status:"active",joined:"2025-07-09"},
];

const TBody = document.querySelector('#tbl tbody');
const q = document.getElementById('q');
const role = document.getElementById('role');
const status = document.getElementById('status');

function badgeRole(r){
  return `<span class="badge role">${r}</span>`;
}
function badgeStatus(s){
  return s==='active' ? `<span class="badge ok">æœ‰åŠ¹</span>` : `<span class="badge stop">åœæ­¢</span>`;
}
function render(rows){
  TBody.innerHTML = rows.map(u=>`
    <tr>
      <td>${u.name}</td>
      <td>${u.email}</td>
      <td>${badgeRole(u.role)}</td>
      <td>${badgeStatus(u.status)}</td>
      <td>${u.joined}</td>
      <td>
        <div class="actions">
          <button class="btn" data-edit="${u.id}">ç·¨é›†</button>
          <button class="btn ghost" data-toggle="${u.id}">${u.status==='active'?'åœæ­¢':'æœ‰åŠ¹åŒ–'}</button>
          <button class="btn ghost" data-reset="${u.id}">PWãƒªã‚»ãƒƒãƒˆ</button>
        </div>
      </td>
    </tr>
  `).join('');
  bindActions();
}
function bindActions(){
  TBody.querySelectorAll('[data-edit]').forEach(b=>b.onclick=()=>alert('ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå¾Œã§å®Ÿè£…å¯ï¼‰'));
  TBody.querySelectorAll('[data-toggle]').forEach(b=>b.onclick=(e)=>{
    const id = Number(e.currentTarget.dataset.toggle);
    const user = USERS.find(x=>x.id===id);
    user.status = user.status==='active'?'suspended':'active';
    applyFilter();
  });
  TBody.querySelectorAll('[data-reset]').forEach(b=>b.onclick=()=>alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å†è¨­å®šãƒªãƒ³ã‚¯ã‚’é€ä¿¡ï¼ˆæ“¬ä¼¼ï¼‰'));
}
function applyFilter(){
  const t = (q.value||'').toLowerCase();
  const r = role.value; const s = status.value;
  const rows = USERS.filter(u=>{
    if(t && !(u.name+u.email).toLowerCase().includes(t)) return false;
    if(r && u.role!==r) return false;
    if(s && u.status!==s) return false;
    return true;
  });
  render(rows);
}
document.getElementById('search').onclick = applyFilter;
document.getElementById('invite').onclick = ()=>alert('æ‹›å¾…ãƒªãƒ³ã‚¯ã‚’ç™ºè¡Œã—ã¾ã—ãŸï¼ˆæ“¬ä¼¼ï¼‰: https://example.com/invite/XXXX');
applyFilter();

// ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–
(function(){
  var path = location.pathname.replace(/\/+$/,'');
  document.querySelectorAll('.sidenav a').forEach(a=>{
    var href=(a.getAttribute('href')||'').replace(/\/+$/,'');
    if(href && (href===path || (href!=='/' && path.startsWith(href)))) a.classList.add('active');
  });
})();
</script>
</body>
</html>
